<!doctype html>
<html>
<head>
	<meta charset="UTF-8">
	<title>MALOCA</title>
	<link rel="icon" type="image/png" href="/assets/img/favico.png"/>
	<link rel="stylesheet" type="text/css" href="/assets/css/style.css">
</head>

<body class="body">
<main>{{ block "main" . }}{{ end }}</main>
<script>
    // VIDEO BG
    var launchVideo = function () {
      var videlem = document.createElement("video"),
        sourceMP4 = document.createElement("source"),
        supportsVideoElement = !!document.createElement('video').canPlayType,
        temp = document.createElement('video'),
        canPlay_MP4 = temp.canPlayType('video/mp4; codecs="avc1.42E01E,mp4a.40.2"'),
        //canPlay_WEMB = temp.canPlayType('video/webm; codecs="vp8,vorbis"'),
        videoWrapper = document.getElementById('video-wrapper');
      if (supportsVideoElement && canPlay_MP4) {
        videlem.id = "video-bg";
        sourceMP4.type = "video/mp4";
        sourceMP4.src = "/assets/maloca-square.mp4";
        videlem.appendChild(sourceMP4);
        videlem.preload = true;
        videlem.autoplay = true;
        videlem.muted = true;
        videlem.loop = true;
        videlem.setAttribute('playsinline', '');
        videoWrapper.appendChild(videlem);
        console.log('launchvideo');
      }
    }
    // INIT 
    // window.onload = function () {
    //   launchVideo();
    // }


    
  </script> 
<script src="https://code.jquery.com/jquery.min.js"></script> 
<script>
    //   window.onload = function () {
    //   cssParallax();
    // }
    
    function cssParallax(cont, el, radiusVal) {
      $(cont).mousemove(function (event) {
        console.log(cont, el, radiusVal);
        cx = Math.ceil($(window).width() / 2.0);
        cy = Math.ceil($(window).height() / 2.0);
        dx = event.pageX - cx;
        dy = event.pageY - cy;

        tiltx = (dy / cy);
        tilty = - (dx / cx);
        radius = Math.sqrt(Math.pow(tiltx, 2) + Math.pow(tilty, 2));
        degree = (radius * radiusVal);

        $(el, cont).css('-webkit-transform', 'rotate3d(' + tiltx + ', ' + tilty + ', 0, ' + degree + 'deg)');
        $(el, cont).css('transform', 'rotate3d(' + tiltx + ', ' + tilty + ', 0, ' + degree + 'deg)');
      });
    }

    $(document).ready(function () {
      cssParallax('.parallax-container', '.parallax-base', 20);
      cssParallax('.parallax-container.first', '.parallax-base', 20);
    });
</script>
</body>
</html>